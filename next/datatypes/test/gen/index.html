<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="search" type="application/opensearchdescription+xml" title="ZIO" href="/opensearch.xml">
<link rel="stylesheet" href="/css/prism/prism-material-dark.css"><title data-react-helmet="true">Gen | ZIO</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://zio.dev/next/datatypes/test/gen"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Gen | ZIO"><meta data-react-helmet="true" name="description" content="A Gen[R, A] represents a generator of values of type A, which requires an environment R. Generators may be random or deterministic."><meta data-react-helmet="true" property="og:description" content="A Gen[R, A] represents a generator of values of type A, which requires an environment R. Generators may be random or deterministic."><link data-react-helmet="true" rel="icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://zio.dev/next/datatypes/test/gen"><link data-react-helmet="true" rel="alternate" href="https://zio.dev/next/datatypes/test/gen" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://zio.dev/next/datatypes/test/gen" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.6feee118.css">
<link rel="preload" href="/assets/js/runtime~main.183b2960.js" as="script">
<link rel="preload" href="/assets/js/main.eb82bc51.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/navbar_brand.png" alt="ZIO" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/navbar_brand.png" alt="ZIO" class="themedImage_W2Cr themedImage--dark_oUvU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/version-1.x/overview/">Overview</a><a class="navbar__item navbar__link" href="/version-1.x/datatypes/">Data Types</a><a class="navbar__item navbar__link" href="/version-1.x/usecases/">Use Cases</a><a class="navbar__item navbar__link" href="/version-1.x/howto/">How to</a><a class="navbar__item navbar__link" href="/version-1.x/resources/">Resources</a><a class="navbar__item navbar__link" href="/version-1.x/about/">About</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/next/overview/">ZIO 2.x (WIP)</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/next/datatypes/test/gen">ZIO 2.x (WIP)</a></li><li><a class="dropdown__link" href="/version-1.x/overview/">ZIO 1.x</a></li></ul></div><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">🌜</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">🌞</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/next/datatypes/">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/next/datatypes/core/zio/">Core Data Types</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/next/datatypes/contextual/">Contextual Types</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/next/datatypes/fiber/">Concurrency</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/next/datatypes/resource/">Resource Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/next/datatypes/stream/">Streaming</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/next/datatypes/metrics/">Metrics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/next/datatypes/test/">ZIO Test</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/next/datatypes/test/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/next/datatypes/test/spec">Spec</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/next/datatypes/test/assertion">Assertion</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/next/datatypes/test/environment/">Test Services</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/next/datatypes/test/test-aspect">TestAspect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/next/datatypes/test/gen">Gen</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/next/datatypes/misc/chunk">Miscellaneous</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->ZIO<!-- --> <b>ZIO 2.x (WIP)</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/version-1.x/overview/">latest version</a></b> (<!-- -->ZIO 1.x<!-- -->).</div></div><div class="docItemContainer_vinB"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->ZIO 2.x (WIP)</span><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Gen</h1></header><p>A <code>Gen[R, A]</code> represents a generator of values of type <code>A</code>, which requires an environment <code>R</code>. Generators may be random or deterministic.</p><p>We encoded it as a stream of optional samples:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">case class Gen[-R, +A](sample: ZStream[R, Nothing, Option[Sample[R, A]]]) {</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="creating-a-generator">Creating a Generator<a class="hash-link" href="#creating-a-generator" title="Direct link to heading">​</a></h2><p>In the companion object of the <code>Gen</code> data type, there are tons of generators for various data types.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="primitive-types-generators">Primitive Types Generators<a class="hash-link" href="#primitive-types-generators" title="Direct link to heading">​</a></h3><p>ZIO Test provides generators for primitive types such as <code>Gen.int</code>, <code>Gen.string</code>, <code>Gen.boolean</code>, <code>Gen.float</code>, <code>Gen.double</code>, <code>Gen.bigInt</code>, <code>Gen.byte</code>, <code>Gen.bigdecimal</code>, <code>Gen.long</code>, <code>Gen.char</code>, and <code>Gen.short</code>.</p><p>Let&#x27;s create an <code>Int</code> generator:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">import zio._</span><br></span><span class="token-line"><span class="token plain">import zio.test._</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">val intGen: Gen[Any, Int] = Gen.int</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="character-generators">Character Generators<a class="hash-link" href="#character-generators" title="Direct link to heading">​</a></h3><p>In addition to <code>Gen.char</code>, ZIO Test offers a variety of specialized character generators:</p><ul><li><code>Gen.alphaChar</code> — e.g. <code>Z, z, A, t, o, e, K, E, y, N</code></li><li><code>Gen.alphaNumericChar</code> — e.g. <code>b, O, X, B, 4, M, k, 9, a, p</code></li><li><code>Gen.asciiChar</code> — e.g. <code>, &gt;, , , , 2, k, , , </code></li><li><code>Gen.unicodeChar</code> — e.g. <code>了, , 옷, 嗀, , 뮲, ﹓, 癮, , ᜣ)</code></li><li><code>Gen.numericChar</code> — e.g. <code>1, 0, 1, 5, 6, 9, 4, 4, 5, 2</code></li><li><code>Gen.printableChar</code> — e.g. <code>H, J, (, Q, n, g, 4, G, 9, l</code></li><li><code>Gen.whitespaceChars</code> — e.g. <code>, ,  , , ,  ,  ,  ,  , </code></li><li><code>Gen.hexChar</code> — e.g. <code>3, F, b, 5, 9, e, 2, 8, b, e</code></li><li><code>Gen.hexCharLower</code> — e.g. <code>f, c, 4, 4, c, 2, 5, 4, f, 3</code></li><li><code>Gen.hexCharUpper</code> — e.g. <code>4, 8, 9, 8, C, 9, F, A, E, C</code></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="string-generators">String Generators<a class="hash-link" href="#string-generators" title="Direct link to heading">​</a></h3><p>Besides the primitive string generator, <code>Gen.string</code>, ZIO Test also provides the following specialized generators:</p><ol><li><p><code>Gen.stringBounded</code> — A generator of strings whose size falls within the specified bounds:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.stringBounded(1, 5)(Gen.alphaChar)</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(10)</span><br></span><span class="token-line"><span class="token plain">  .debug</span><br></span><span class="token-line"><span class="token plain">// Sample Output: List(b, YJXzY, Aro, y, WMPbj, Abxt, kJep, LKN, kUtr, xJ)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.stringN</code> — A generator of strings of fixed size:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.stringN(5)(Gen.alphaChar)</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(10)</span><br></span><span class="token-line"><span class="token plain">  .debug</span><br></span><span class="token-line"><span class="token plain">// Sample Output: List(BuywQ, tXCEy, twZli, ffLwI, BPEbz, OKYTi, xeDJW, iDUVn, cuMCr, keQAA)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.string1</code> — A generator of strings of at least one character.</p></li><li><p><code>Gen.alphaNumericString</code> — A generator of alphanumeric characters.</p></li><li><p><code>Gen.alphaNumericStringBounded</code> — A generator of alphanumeric strings whose size falls within the specified bounds.</p></li><li><p><code>Gen.iso_8859_1</code> — A generator of strings that can be encoded in the ISO-8859-1 character set.</p></li><li><p><code>Gen.asciiString</code> — A generator of US-ASCII characters.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="generating-fixed-values">Generating Fixed Values<a class="hash-link" href="#generating-fixed-values" title="Direct link to heading">​</a></h3><ol><li><p><code>Gen.const</code> — A constant generator of the specified value.</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.const(true).runCollectN(5)</span><br></span><span class="token-line"><span class="token plain">// Output: List(true, true, true, true, true)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.constSample</code> — A constant generator of the specified sample:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain"> Gen.constSample(Sample.noShrink(false)).runCollectN(5)</span><br></span><span class="token-line"><span class="token plain">// Output: List(true, true, true, true, true)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.unit</code> — A constant generator of the unit value.</p></li><li><p><code>Gen.throwable</code> — A generator of throwables.</p></li></ol><p>Note that there is an empty generator called <code>Gen.empty</code>, which generates no values and returns nothing. We can think of that as a generator of empty stream, <code>Gen(Stream.empty)</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="generating-from-fixed-values">Generating from Fixed Values<a class="hash-link" href="#generating-from-fixed-values" title="Direct link to heading">​</a></h3><ol><li><code>Gen.elements</code> — Constructs a non-deterministic generator that only generates randomly from the fixed values:</li></ol><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">import java.time._</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">Gen.elements(</span><br></span><span class="token-line"><span class="token plain">  DayOfWeek.MONDAY,</span><br></span><span class="token-line"><span class="token plain">  DayOfWeek.TUESDAY,</span><br></span><span class="token-line"><span class="token plain">  DayOfWeek.WEDNESDAY,</span><br></span><span class="token-line"><span class="token plain">  DayOfWeek.THURSDAY,</span><br></span><span class="token-line"><span class="token plain">  DayOfWeek.FRIDAY,</span><br></span><span class="token-line"><span class="token plain">  DayOfWeek.SATURDAY,</span><br></span><span class="token-line"><span class="token plain">  DayOfWeek.SUNDAY</span><br></span><span class="token-line"><span class="token plain">).runCollectN(3).debug</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ol start="2"><li><code>Gen.fromIterable</code> — Constructs a deterministic generator that only generates the specified fixed values:</li></ol><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.fromIterable(List(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;))</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(10)</span><br></span><span class="token-line"><span class="token plain">  .debug</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="collection-generators">Collection Generators<a class="hash-link" href="#collection-generators" title="Direct link to heading">​</a></h3><p>ZIO Test has generators for collection data types such as <em>sets</em>, <em>lists</em>, <em>vectors</em>, <em>chunks</em>, and <em>maps</em>. These data types share similar APIs. The following example illustrates how the generator of sets works:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">// A sized generator of sets</span><br></span><span class="token-line"><span class="token plain">Gen.setOf(Gen.alphaChar)</span><br></span><span class="token-line"><span class="token plain">// Sample Output: Set(Y, M, c), Set(), Set(g, x, Q), Set(s), Set(f, J, b, R)</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">// A sized generator of non-empty sets</span><br></span><span class="token-line"><span class="token plain">Gen.setOf1(Gen.alphaChar)    </span><br></span><span class="token-line"><span class="token plain">// Sample Output: Set(Y), Set(L, S), Set(i), Set(H), Set(r, Z, z)</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">// A generator of sets whose size falls within the specified bounds.</span><br></span><span class="token-line"><span class="token plain">Gen.setOfBounded(1, 3)(Gen.alphaChar)</span><br></span><span class="token-line"><span class="token plain">// Sample Output: Set(Q), Set(q, J), Set(V, t, h), Set(c), Set(X, O)</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">// A generator of sets of the specified size.</span><br></span><span class="token-line"><span class="token plain">Gen.setOfN(2)(Gen.alphaChar)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="bounded-generator">Bounded Generator<a class="hash-link" href="#bounded-generator" title="Direct link to heading">​</a></h3><p>The <code>Gen.bounded</code> constructor is a generator whose size falls within the specified bounds:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.bounded(2, 5)(Gen.stringN(_)(Gen.alphaChar))</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(5)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="suspended-generator">Suspended Generator<a class="hash-link" href="#suspended-generator" title="Direct link to heading">​</a></h3><p>The <code>Gen.suspend</code> constructs a generator lazily. This is useful to avoid infinite recursion when creating generators that refer to themselves.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="unfold-generator">Unfold Generator<a class="hash-link" href="#unfold-generator" title="Direct link to heading">​</a></h3><p>The <code>unfoldGen</code> takes the initial state and depending on the previous state, it determines what will be the next generated value:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">def unfoldGen[R &lt;: Sized, S, A](s: S)(f: S =&gt; Gen[R, (S, A)]): Gen[R, List[A]]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Assume we want to test the built-in scala stack (<code>scala.collection.mutable.Stack</code>). One way to do that is to create an acceptable series of push and pop commands, and then check that the stack doesn&#x27;t throw any exception by executing these commands:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">sealed trait Command</span><br></span><span class="token-line"><span class="token plain">case object Pop                    extends Command</span><br></span><span class="token-line"><span class="token plain">final case class Push(value: Char) extends Command</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">val genPop:  Gen[Any, Command]    = Gen.const(Pop)</span><br></span><span class="token-line"><span class="token plain">def genPush: Gen[Any, Command] = Gen.alphaChar.map(Push)</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">val genCommands: Gen[Sized, List[Command]] =</span><br></span><span class="token-line"><span class="token plain">  Gen.unfoldGen(0) { n =&gt;</span><br></span><span class="token-line"><span class="token plain">    if (n &lt;= 0)</span><br></span><span class="token-line"><span class="token plain">      genPush.map(command =&gt; (n + 1, command))</span><br></span><span class="token-line"><span class="token plain">    else</span><br></span><span class="token-line"><span class="token plain">      Gen.oneOf(</span><br></span><span class="token-line"><span class="token plain">        genPop.map(command =&gt; (n - 1, command)),</span><br></span><span class="token-line"><span class="token plain">        genPush.map(command =&gt; (n + 1, command))</span><br></span><span class="token-line"><span class="token plain">      )</span><br></span><span class="token-line"><span class="token plain">  }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>We are now ready to test the generated list of commands:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">import zio.test.{ test, _ }</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">test(&quot;unfoldGen&quot;) {</span><br></span><span class="token-line"><span class="token plain">  check(genCommands) { commands =&gt;</span><br></span><span class="token-line"><span class="token plain">    val stack = scala.collection.mutable.Stack.empty[Int]</span><br></span><span class="token-line"><span class="token plain">    commands.foreach {</span><br></span><span class="token-line"><span class="token plain">      case Pop =&gt; stack.pop()</span><br></span><span class="token-line"><span class="token plain">      case Push(value) =&gt; stack.push(value)</span><br></span><span class="token-line"><span class="token plain">    }</span><br></span><span class="token-line"><span class="token plain">    assertCompletes</span><br></span><span class="token-line"><span class="token plain">  }</span><br></span><span class="token-line"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="from-a-zio-effect">From a ZIO Effect<a class="hash-link" href="#from-a-zio-effect" title="Direct link to heading">​</a></h3><ol><li><p><code>Gen.fromZIO</code></p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val gen: Gen[Any, Int] = Gen.fromZIO(Random.nextInt) </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.fromZIOSample</code></p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val gen: Gen[Any, Int] =</span><br></span><span class="token-line"><span class="token plain">  Gen.fromZIOSample(</span><br></span><span class="token-line"><span class="token plain">    Random.nextInt.map(Sample.shrinkIntegral(0))</span><br></span><span class="token-line"><span class="token plain">  )</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="from-a-random-effect">From a Random Effect<a class="hash-link" href="#from-a-random-effect" title="Direct link to heading">​</a></h3><ol start="3"><li><p><code>Gen.fromRandom</code> — Constructs a generator from a function that uses randomness:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val gen: Gen[Any, Int] = Gen.fromRandom(_.nextInt) </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.fromRandomSample</code> — Constructs a generator from a function that uses randomness to produce a sample:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val gen: Gen[Any, Int] =</span><br></span><span class="token-line"><span class="token plain">  Gen.fromRandomSample(</span><br></span><span class="token-line"><span class="token plain">    _.nextIntBounded(20).map(Sample.shrinkIntegral(0))</span><br></span><span class="token-line"><span class="token plain">  )</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="uniform-and-non-uniform-generators">Uniform and Non-uniform Generators<a class="hash-link" href="#uniform-and-non-uniform-generators" title="Direct link to heading">​</a></h3><ol><li><p><code>Gen.uniform</code> — A generator of uniformly distributed doubles between <!-- -->[0, 1]<!-- -->.</p></li><li><p><code>Gen.weighted</code> — A generator which chooses one of the given generators according to their weights. For example, the following generator will generate 90% true and 10% false values:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val trueFalse = Gen.weighted((Gen.const(true), 9), (Gen.const(false), 1))</span><br></span><span class="token-line"><span class="token plain">trueFalse.runCollectN(10).debug</span><br></span><span class="token-line"><span class="token plain">// Sample Output: List(false, false, false, false, false, false, false, false, true, false)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.exponential</code> — A generator of exponentially distributed doubles with mean <code>1</code>:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.exponential.map(x =&gt; math.round(x * 100) / 100.0)</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(10)</span><br></span><span class="token-line"><span class="token plain">  .debug</span><br></span><span class="token-line"><span class="token plain">// Sample Output: List(0.22, 3.02, 1.96, 1.13, 0.81, 0.92, 1.7, 1.47, 1.55, 0.46)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="generating-datetime-types">Generating Date/Time Types<a class="hash-link" href="#generating-datetime-types" title="Direct link to heading">​</a></h3><table><thead><tr><th>Date/Time Types</th><th>Generators</th></tr></thead><tbody><tr><td><code>java.time.DayOfWeek</code></td><td><code>Gen.dayOfWeek</code></td></tr><tr><td><code>java.time.Month</code></td><td><code>Gen.month</code></td></tr><tr><td><code>java.time.Year</code></td><td><code>Gen.year</code></td></tr><tr><td><code>java.time.Instant</code></td><td><code>Gen.instant</code></td></tr><tr><td><code>java.time.MonthDay</code></td><td><code>Gen.monthDay</code></td></tr><tr><td><code>java.time.YearMonth</code></td><td><code>Gen.yearMonth</code></td></tr><tr><td><code>java.time.ZoneId</code></td><td><code>Gen.zoneId</code></td></tr><tr><td><code>java.time.ZoneOffset</code></td><td><code>Gen.zoneOffset</code></td></tr><tr><td><code>java.time.ZonedDateTime</code></td><td><code>Gen.zonedDateTime</code></td></tr><tr><td><code>java.time.OffsetTime</code></td><td><code>Gen.offsetTime</code></td></tr><tr><td><code>java.time.OffsetDateTime</code></td><td><code>Gen.offsetDateTime</code></td></tr><tr><td><code>java.time.Period</code></td><td><code>Gen.period</code></td></tr><tr><td><code>java.time.LocalDate</code></td><td><code>Gen.localDate</code></td></tr><tr><td><code>java.time.LocalDateTime</code></td><td><code>Gen.localDateTime</code></td></tr><tr><td><code>java.time.LocalTime</code></td><td><code>Gen.localTime</code></td></tr><tr><td><code>zio.duration.Duration</code></td><td><code>Gen.finiteDuration</code></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="function-generators">Function Generators<a class="hash-link" href="#function-generators" title="Direct link to heading">​</a></h3><p>To test some properties, we need to generate functions. There are two types of function generators:</p><ol><li><p><code>Gen.function</code> — It takes a generator of type <code>B</code> and produces a generator of functions from <code>A</code> to <code>B</code>:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">def function[R, A, B](gen: Gen[R, B]): Gen[R, A =&gt; B]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><p>Two <code>A</code> values will be considered to be equal, and thus will be guaranteed to generate the same <code>B</code> value, if they have the same
<code>hashCode</code>.</p><ol start="2"><li><p><code>Gen.functionWith</code> — It takes a generator of type <code>B</code> and also a hash function for <code>A</code> values, and produces a generator of functions from <code>A</code> to <code>B</code>:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">def functionWith[R, A, B](gen: Gen[R, B])(hash: A =&gt; Int): Gen[R, A =&gt; B]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><p>Two <code>A</code> values will be considered to be equal, and thus will be guaranteed to generate the same <code>B</code> value, if they have the same hash. This is useful when <code>A</code> does not implement <code>hashCode</code> in a way that is consistent with equality.</p><p>Accordingly, ZIO Test provides a variety of function generators for <code>Function2</code>, <code>Function3</code>, ..., and also the <code>PartialFunction</code>: </p><ul><li><code>Gen.function2</code> —  Gen<!-- -->[R, C]<!-- --> =&gt; Gen<!-- -->[R, (A, B) =&gt; C]</li><li><code>Gen.functionWith2</code> — Gen<!-- -->[R, B]<!-- --> =&gt; ((A, B) =&gt; Int) =&gt; Gen<!-- -->[R, (A, B) =&gt; C]</li><li><code>Gen.partialFunction</code> — Gen<!-- -->[R, B]<!-- --> =&gt; Gen[R, PartialFunction<!-- -->[A, B]<!-- -->]</li><li><code>Gen.partialFunctionWith</code> — Gen<!-- -->[R, B]<!-- --> =&gt; (A =&gt; Int) =&gt; Gen[R, PartialFunction<!-- -->[A, B]<!-- -->]</li></ul><p>Let&#x27;s write a test for <code>ZIO.foldLeft</code> operator. This operator has the following signature:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">def foldLeft[R, E, S, A](in: =&gt; Iterable[A])(zero: =&gt; S)(f: (S, A) =&gt; ZIO[R, E, S]): ZIO[R, E, S]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>We want to test the following property:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">∀ (in, zero, f) =&gt; ZIO.foldLeft(in)(zero)(f) == ZIO(List.foldLeft(in)(zero)(f))</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>To test this property, we have an input of type <code>(Int, Int) =&gt; Int</code>. So we need a Function2 generator of integers:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val func2: Gen[Any, (Int, Int) =&gt; Int] = Gen.function2(Gen.int)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Now we can test this property:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">import zio._</span><br></span><span class="token-line"><span class="token plain">import zio.test.{test, _}</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">test(&quot;ZIO.foldLeft should have the same result with List.foldLeft&quot;) {</span><br></span><span class="token-line"><span class="token plain">  check(Gen.listOf(Gen.int), Gen.int, func2) { case (in, zero, f) =&gt;</span><br></span><span class="token-line"><span class="token plain">    assertM(</span><br></span><span class="token-line"><span class="token plain">      ZIO.foldLeft(in)(zero)((s, a) =&gt; ZIO.attempt(f(s, a)))</span><br></span><span class="token-line"><span class="token plain">    )(Assertion.equalTo(</span><br></span><span class="token-line"><span class="token plain">      in.foldLeft(zero)((s, a) =&gt; f(s, a)))</span><br></span><span class="token-line"><span class="token plain">    )</span><br></span><span class="token-line"><span class="token plain">  }</span><br></span><span class="token-line"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="generating-zio-values">Generating ZIO Values<a class="hash-link" href="#generating-zio-values" title="Direct link to heading">​</a></h3><ol><li><p>Successful effects (<code>Gen.successes</code>):</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val gen: Gen[Any, UIO[Int]] = Gen.successes(Gen.int(-10, 10))</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>Failed effects (<code>Gen.failures</code>):</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val gen: Gen[Sized, IO[String, Nothing]] = Gen.failures(Gen.string)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>Died effects (<code>Gen.died</code>):</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val gen: Gen[Any, UIO[Nothing]] = Gen.died(Gen.throwable)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>Cause values (<code>Gen.causes</code>):</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val causes: Gen[Sized, Cause[String]] = </span><br></span><span class="token-line"><span class="token plain">  Gen.causes(Gen.string, Gen.throwable)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>Chained effects (<code>Gen.chined</code>, <code>Gen.chainedN</code>): A generator of effects that are the result of chaining the specified effect with itself a random number of times.</p><p>Let&#x27;s see some example of chained ZIO effects:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">import zio._</span><br></span><span class="token-line"><span class="token plain">val effect1 = ZIO(2).flatMap(x =&gt; ZIO(x * 2))</span><br></span><span class="token-line"><span class="token plain">val effect2 = ZIO(1) *&gt; ZIO(2)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>By using <code>Gen.chaned</code> or <code>Gen.chanedN</code> generator, we can create generators of chained effects:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val chained : Gen[Sized, ZIO[Any, Nothing, Int]] = </span><br></span><span class="token-line"><span class="token plain">  Gen.chained(Gen.successes(Gen.int))</span><br></span><span class="token-line"><span class="token plain">  </span><br></span><span class="token-line"><span class="token plain">val chainedN: Gen[Any, ZIO[Any, Nothing, Int]] = </span><br></span><span class="token-line"><span class="token plain">  Gen.chainedN(5)(Gen.successes(Gen.int))</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>Concurrent effects (<code>Gen.concurrent</code>): A generator of effects that are the result of applying concurrency combinators to the specified effect that are guaranteed not to change its value.</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val random  : Gen[Any, UIO[Int]] = Gen.successes(Gen.int).flatMap(Gen.concurrent)</span><br></span><span class="token-line"><span class="token plain">val constant: Gen[Any, UIO[Int]]    = Gen.concurrent(ZIO(3))</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p>Parallel effects (<code>Gen.parallel</code>): A generator of effects that are the result of applying parallelism combinators to the specified effect that are guaranteed not to change its value.</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val random: Gen[Sized, UIO[String]] =</span><br></span><span class="token-line"><span class="token plain">  Gen.successes(Gen.string).flatMap(Gen.parallel)</span><br></span><span class="token-line"><span class="token plain">  </span><br></span><span class="token-line"><span class="token plain">val constant: Gen[Any, UIO[String]] =</span><br></span><span class="token-line"><span class="token plain">  Gen.parallel(ZIO(&quot;Hello&quot;))</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="generating-compound-types">Generating Compound Types<a class="hash-link" href="#generating-compound-types" title="Direct link to heading">​</a></h3><ol><li><p>tuples — We can combine generators using for-comprehension syntax and tuples:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val tuples: Gen[Any, (Int, Double)] =</span><br></span><span class="token-line"><span class="token plain">  for {</span><br></span><span class="token-line"><span class="token plain">    a &lt;- Gen.int</span><br></span><span class="token-line"><span class="token plain">    b &lt;- Gen.double</span><br></span><span class="token-line"><span class="token plain">  } yield (a, b)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.oneOf</code> — It takes variable number of generators and select one of them:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">sealed trait Color</span><br></span><span class="token-line"><span class="token plain">case object Red extends Color</span><br></span><span class="token-line"><span class="token plain">case object Blue extends Color</span><br></span><span class="token-line"><span class="token plain">case object Green extends Color</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">Gen.oneOf(Gen.const(Red), Gen.const(Blue), Gen.const(Green))</span><br></span><span class="token-line"><span class="token plain">// Sample Output: Green, Green, Red, Green, Red</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.option</code> — A generator of <em>optional</em> values:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val intOptions: Gen[Any, Option[Int]] = Gen.option(Gen.int)</span><br></span><span class="token-line"><span class="token plain">val someInts:   Gen[Any, Option[Int]] = Gen.some(Gen.int)</span><br></span><span class="token-line"><span class="token plain">val nons:       Gen[Any, Option[Nothing]]     = Gen.none</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.either</code> — A generator of <em>either</em> values:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val char: Gen[Any, Either[Char, Char]] =</span><br></span><span class="token-line"><span class="token plain">  Gen.either(Gen.numericChar, Gen.alphaChar)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.collectAll</code> — Composes the specified generators to create a <em>cartesian product of elements</em> with the specified function:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val gen: ZIO[Any, Nothing, List[List[Int]]] =</span><br></span><span class="token-line"><span class="token plain">  Gen.collectAll(</span><br></span><span class="token-line"><span class="token plain">    List(</span><br></span><span class="token-line"><span class="token plain">      Gen.fromIterable(List(1, 2)),</span><br></span><span class="token-line"><span class="token plain">      Gen.fromIterable(List(3)),</span><br></span><span class="token-line"><span class="token plain">      Gen.fromIterable(List(4, 5))</span><br></span><span class="token-line"><span class="token plain">    )</span><br></span><span class="token-line"><span class="token plain">  ).runCollect</span><br></span><span class="token-line"><span class="token plain">// Output:</span><br></span><span class="token-line"><span class="token plain">// List(</span><br></span><span class="token-line"><span class="token plain">//  List(1, 3, 4),</span><br></span><span class="token-line"><span class="token plain">//  List(1, 3, 5),</span><br></span><span class="token-line"><span class="token plain">//  List(2, 3, 4),</span><br></span><span class="token-line"><span class="token plain">//  List(2, 3, 5)</span><br></span><span class="token-line"><span class="token plain">//)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.concatAll</code> — Combines the specified deterministic generators to return a new deterministic generator that generates all the values generated by the specified generators:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val gen: ZIO[Any, Nothing, List[Int]] =</span><br></span><span class="token-line"><span class="token plain">  Gen.concatAll(</span><br></span><span class="token-line"><span class="token plain">    List(</span><br></span><span class="token-line"><span class="token plain">      Gen.fromIterable(List(1, 2)),</span><br></span><span class="token-line"><span class="token plain">      Gen.fromIterable(List(3)),</span><br></span><span class="token-line"><span class="token plain">      Gen.fromIterable(List(4, 5))</span><br></span><span class="token-line"><span class="token plain">    )</span><br></span><span class="token-line"><span class="token plain">  ).runCollect</span><br></span><span class="token-line"><span class="token plain">// Output: List(1, 2, 3, 4, 5)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="sized-generators">Sized Generators<a class="hash-link" href="#sized-generators" title="Direct link to heading">​</a></h3><ol><li><p><code>Gen.sized</code> — A sized generator takes a function from <code>Int</code> to <code>Gen[R, A]</code> and creates a generator by applying a size to that function:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.sized(Gen.int(0, _))</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(10)</span><br></span><span class="token-line"><span class="token plain">  .provideCustomLayer(Sized.live(5))</span><br></span><span class="token-line"><span class="token plain">  .debug</span><br></span><span class="token-line"><span class="token plain">// Sample Output: List(5, 4, 1, 2, 0, 4, 2, 0, 1, 2)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.size</code> — A generator which accesses the <em>size</em> from the environment and generates that:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.size</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(5)</span><br></span><span class="token-line"><span class="token plain">  .provideCustomLayer(Sized.live(100))</span><br></span><span class="token-line"><span class="token plain">  .debug</span><br></span><span class="token-line"><span class="token plain">// Output: List(100, 100, 100, 100, 100)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><p>There are also three sized generators, named <em>small</em>, <em>medium</em> and <em>large</em>, that use an exponential distribution of size values:</p><ol><li><p><code>Gen.small</code> — The values generated will be strongly concentrated towards the lower end of the range but a few larger values will still be generated:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.small(Gen.const(_))</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(10)</span><br></span><span class="token-line"><span class="token plain">  .provideCustomLayer(Sized.live(1000))</span><br></span><span class="token-line"><span class="token plain">  .debug</span><br></span><span class="token-line"><span class="token plain">// Output: List(6, 39, 73, 3, 57, 51, 40, 12, 110, 46)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.medium</code> — The majority of sizes will be towards the lower end of the range but some larger sizes will be generated as well:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.medium(Gen.const(_))</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(10)</span><br></span><span class="token-line"><span class="token plain">  .provideCustomLayer(Sized.live(1000))</span><br></span><span class="token-line"><span class="token plain">  .debug</span><br></span><span class="token-line"><span class="token plain">// Output: List(93, 42, 58, 228, 42, 5, 12, 214, 106, 79)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen.large</code> — The values generated will be strongly concentrated towards the lower end of the range but a few larger values will still be generated:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.large(Gen.const(_))</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(10)</span><br></span><span class="token-line"><span class="token plain">  .provideCustomLayer(Sized.live(1000))</span><br></span><span class="token-line"><span class="token plain">  .debug</span><br></span><span class="token-line"><span class="token plain">// Output: List(797, 218, 596, 278, 301, 779, 165, 486, 695, 788)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="running-a-generator">Running a Generator<a class="hash-link" href="#running-a-generator" title="Direct link to heading">​</a></h2><p>To run a generator, we can call <code>runCollect</code> operation:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">val ints: ZIO[Any, Nothing, List[Int]] = intGen.runCollect.debug</span><br></span><span class="token-line"><span class="token plain">// Output: List(-2090696713)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This will return a <code>ZIO</code> effect containing all its values in a list, which in this example it contains only one element.</p><p>To create more samples, we can use <code>Gen#runCollectN</code>, which repeatedly runs the generator as much as we need. In this example, it will generate a list of containing 5 integer elements:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">intGen.runCollectN(5).debug</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>In addition, there is an operator called <code>Gen#runHead</code>, which returns the first value generated by the generator.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="operators-on-generators">Operators on Generators<a class="hash-link" href="#operators-on-generators" title="Direct link to heading">​</a></h2><ol><li><p><code>Gen#zipWith</code> — Composes this generator with the specified generator to create a cartesian product of elements with the specified function:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.elements(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;).zipWith(Gen.elements(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;))(_ + _)</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(5)</span><br></span><span class="token-line"><span class="token plain">// Sample Output: List(b1, a2, c1, b1, b1)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen#zip</code> — Composes this generator with the specified generator to create a cartesian product of elements.</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.elements(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;).zip(Gen.elements(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;))</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(5)</span><br></span><span class="token-line"><span class="token plain">(Gen.elements(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) &lt;*&gt; Gen.elements(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;))</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(5)</span><br></span><span class="token-line"><span class="token plain">  </span><br></span><span class="token-line"><span class="token plain">// Sample Output: List((a,3), (a,3), (c,3), (b,3), (c,2))</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen#collect</code> — Maps the values produced by this generator with the specified partial function, discarding any values the partial function is not defined at:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.int(-10, +10)</span><br></span><span class="token-line"><span class="token plain">  .collect { case n if n % 2 == 0 =&gt; n }</span><br></span><span class="token-line"><span class="token plain">  .runCollectN(5)</span><br></span><span class="token-line"><span class="token plain">  .debug</span><br></span><span class="token-line"><span class="token plain">// Smaple Output: List(-6, -8, -2, 4, -6)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li><li><p><code>Gen#filter</code> — Filters the values produced by this generator, discarding any values that do not meet the specified predicate:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.int(-10, +10).filter(_ % 2 == 0).runCollectN(5) </span><br></span><span class="token-line"><span class="token plain">// Sample Output: List(-6, 10, 0, -8, 4)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Using <code>filter</code> can reduce test performance, especially if many values must be discarded. It is recommended to use combinators such as <code>map</code> and <code>flatMap</code> to create generators of the desired values instead:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">Gen.int(-10, +10).map(_ * 2).runCollectN(5)</span><br></span><span class="token-line"><span class="token plain">// Sample Output: List(2, 6, -6, 20, -14)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="shrinking">Shrinking<a class="hash-link" href="#shrinking" title="Direct link to heading">​</a></h2><p>In Property-Based Testing, we specify certain properties of a program, then we ask the testing framework to generate random test data to discover counterexamples. The existence of counterexamples shows that our function, which is under the test, is not correct. Unfortunately, in almost all cases, the first counterexample is not the minimal one, and they are fairly large or complex. So it is not a pretty good sample to describe why our test is failing.</p><p>Shrinking is a mechanism that tries to find the smallest counterexample, which is the root cause of the test failure. So it helps a developer to find out why the test is failing.</p><p>Finding the smallest failing case is somehow cumbersome and requires many attempts. As a developer, we do not need to do shrinking ourselves. All generators in ZIO Test have built-in shrinkers, so when we test properties, in case of test failures, the ZIO Test attempts to reduce the counterexamples forward their own zero points.</p><p>Let&#x27;s write a <code>reverse</code> function with an incorrect implementation:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">def reverse[T](list: List[T]): List[T] =</span><br></span><span class="token-line"><span class="token plain">  if (list.length &gt; 6) list.reverse.dropRight(1) else list.reverse</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>We know that if we reverse a list twice, it should give us the original list, so let&#x27;s check this property:</p><div class="codeBlockContainer_I0IT language-scala theme-code-block"><div class="codeBlockContent_wNvx scala"><pre tabindex="0" class="prism-code language-scala codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">import zio.test._</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">suite(&quot;ReverseSpec&quot;){</span><br></span><span class="token-line"><span class="token plain">  // ∀ xs. reverse(reverse(xs)) == xs</span><br></span><span class="token-line"><span class="token plain">  test(&quot;reversing a list twice must give the original list&quot;)(</span><br></span><span class="token-line"><span class="token plain">    check(Gen.listOf(Gen.int)) { list =&gt;</span><br></span><span class="token-line"><span class="token plain">      assertTrue(reverse(reverse(list)) == list)</span><br></span><span class="token-line"><span class="token plain">    }</span><br></span><span class="token-line"><span class="token plain">  )</span><br></span><span class="token-line"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The following messages, is a sample output of the test renderer, after running the test:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line"><span class="token plain">- ReverseSpec</span><br></span><span class="token-line"><span class="token plain">  - reversing a list twice must give the original list</span><br></span><span class="token-line"><span class="token plain">    Test failed after 7 iterations with input: List(0, 0, 0, 0, 0, 0, 0)</span><br></span><span class="token-line"><span class="token plain">    Original input before shrinking was: List(724856966, 1976458409, -940069360, -191508820, -291932258, 1296893186, 2010410723, 1134770522, 1260002835)</span><br></span><span class="token-line"><span class="token plain">    ✗ List(0, 0, 0, 0, 0, 0) was not equal to List(0, 0, 0, 0, 0, 0, 0)</span><br></span><span class="token-line"><span class="token plain">    reverse(reverse(list)) == list</span><br></span><span class="token-line"><span class="token plain">    reverse(reverse(list)) = List(0, 0, 0, 0, 0, 0)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The initial failing input discovered by ZIO Test is <code>List(724856966, 1976458409, -940069360, -191508820, -291932258, 1296893186, 2010410723, 1134770522, 1260002835)</code>. The ZIO Test then tries to find the simplest counterexample which is <code>List(0, 0, 0, 0, 0, 0, 0)</code>. So the property still fails with the final shrunk value. The original input is a list of 9 somewhat useless numbers, while after shrinking, we have a list of 7 zero numbers, so we can find the bug faster.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/zio/zio/edit/series/2.x/docs/datatypes/test/gen.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/next/datatypes/test/test-aspect"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">TestAspect</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/next/datatypes/misc/chunk"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Chunk</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-a-generator" class="table-of-contents__link toc-highlight">Creating a Generator</a><ul><li><a href="#primitive-types-generators" class="table-of-contents__link toc-highlight">Primitive Types Generators</a></li><li><a href="#character-generators" class="table-of-contents__link toc-highlight">Character Generators</a></li><li><a href="#string-generators" class="table-of-contents__link toc-highlight">String Generators</a></li><li><a href="#generating-fixed-values" class="table-of-contents__link toc-highlight">Generating Fixed Values</a></li><li><a href="#generating-from-fixed-values" class="table-of-contents__link toc-highlight">Generating from Fixed Values</a></li><li><a href="#collection-generators" class="table-of-contents__link toc-highlight">Collection Generators</a></li><li><a href="#bounded-generator" class="table-of-contents__link toc-highlight">Bounded Generator</a></li><li><a href="#suspended-generator" class="table-of-contents__link toc-highlight">Suspended Generator</a></li><li><a href="#unfold-generator" class="table-of-contents__link toc-highlight">Unfold Generator</a></li><li><a href="#from-a-zio-effect" class="table-of-contents__link toc-highlight">From a ZIO Effect</a></li><li><a href="#from-a-random-effect" class="table-of-contents__link toc-highlight">From a Random Effect</a></li><li><a href="#uniform-and-non-uniform-generators" class="table-of-contents__link toc-highlight">Uniform and Non-uniform Generators</a></li><li><a href="#generating-datetime-types" class="table-of-contents__link toc-highlight">Generating Date/Time Types</a></li><li><a href="#function-generators" class="table-of-contents__link toc-highlight">Function Generators</a></li><li><a href="#generating-zio-values" class="table-of-contents__link toc-highlight">Generating ZIO Values</a></li><li><a href="#generating-compound-types" class="table-of-contents__link toc-highlight">Generating Compound Types</a></li><li><a href="#sized-generators" class="table-of-contents__link toc-highlight">Sized Generators</a></li></ul></li><li><a href="#running-a-generator" class="table-of-contents__link toc-highlight">Running a Generator</a></li><li><a href="#operators-on-generators" class="table-of-contents__link toc-highlight">Operators on Generators</a></li><li><a href="#shrinking" class="table-of-contents__link toc-highlight">Shrinking</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items"><li class="footer__item">
                <img src="/img/navbar_brand.png" alt="zio">
            </li></ul></div><div class="col footer__col"><div class="footer__title">Github</div><ul class="footer__items"><li class="footer__item">
              <a href="https://github.com/zio/zio">
                <img src="https://img.shields.io/github/stars/zio/zio?style=social" alt="github">
              </a>
            </li></ul></div><div class="col footer__col"><div class="footer__title">Chat with us on Discord</div><ul class="footer__items"><li class="footer__item">
                <a href="https://discord.gg/2ccFBr4">
                  <img src="https://img.shields.io/discord/629491597070827530?logo=discord&style=social" alt="discord">
                </a>
              </li></ul></div><div class="col footer__col"><div class="footer__title">Follow us on Twitter</div><ul class="footer__items"><li class="footer__item">
                <a href="https://twitter.com/zioscala">
                  <img src="https://img.shields.io/twitter/follow/zioscala?label=Follow&style=social" alt="twitter">
                </a>
              </li></ul></div><div class="col footer__col"><div class="footer__title">Additional resources</div><ul class="footer__items"><li class="footer__item"><a href="https://javadoc.io/doc/dev.zio/zio_2.12/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Scaladoc of ZIO<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 ZIO Maintainers - Built with <a href="https://v2.docusaurus.io/">Docusaurus v2</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.183b2960.js"></script>
<script src="/assets/js/main.eb82bc51.js"></script>
</body>
</html>